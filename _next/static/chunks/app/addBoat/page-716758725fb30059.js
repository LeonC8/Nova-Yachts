(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{3416:function(e,t,a){Promise.resolve().then(a.bind(a,2945))},2945:function(e,t,a){"use strict";let s,r,n;a.d(t,{AddBoatForm:function(){return m}});var o=a(7437),i=a(2265),l=a(738),c=a(62),d=a(7292);let u={apiKey:"AIzaSyDgJw2Q15zd_5Xh6z5F3UHwyFAMAikbH4Q",authDomain:"nova-yachts-new.firebaseapp.com",projectId:"nova-yachts-new",storageBucket:"nova-yachts-new.appspot.com",messagingSenderId:"211610700774",appId:"1:211610700774:web:aec6546014d2073e08a427",measurementId:"G-QK02XR3XSZ",databaseURL:"https://nova-yachts-new-default-rtdb.europe-west1.firebasedatabase.app"};function m(){let[e,t]=(0,i.useState)("basic"),[a,m]=(0,i.useState)({name:"",condition:"",taxStatus:"",engines:"",propulsionType:"",location:"",price:"",year:"",sizeFeet:"",sizeMeters:"",beamFeet:"",beamMeters:"",fuelCapacity:"",description:"",inStock:"",basicListing:"",equipment:{airConditioning:!1,generator:!1,hydraulicPasarelle:!1,gps:!1,autopilot:!1,radar:!1,satTV:!1,solarPanel:!1,bowThruster:!1,sternThruster:!1,teakCockpit:!1,teakFlybridge:!1,teakSidedeck:!1}}),[b,p]=(0,i.useState)(null),[x,g]=(0,i.useState)([]),[h,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s||(s=(0,l.ZF)(u),r=(0,c.cF)(s),n=(0,d.N8)(s))},[]);let y=e=>{let{name:t,value:a}=e.target;m(e=>({...e,[t]:a}))},j=e=>{let{name:t,value:a}=e.target;"sizeFeet"===t?m(e=>({...e,sizeFeet:a,sizeMeters:(parseFloat(a)/3.28084).toFixed(2)})):"sizeMeters"===t&&m(e=>({...e,sizeMeters:a,sizeFeet:(3.28084*parseFloat(a)).toFixed(2)}))},v=e=>{let{name:t,value:a}=e.target;"beamFeet"===t?m(e=>({...e,beamFeet:a,beamMeters:(parseFloat(a)/3.28084).toFixed(2)})):"beamMeters"===t&&m(e=>({...e,beamMeters:a,beamFeet:(3.28084*parseFloat(a)).toFixed(2)}))},N=e=>{m(t=>({...t,equipment:{...t.equipment,[e]:!t.equipment[e]}}))},F=async e=>{e.preventDefault(),f(!0);try{if(!r||!n)throw Error("Firebase not initialized");let e=a.description.replace(/\n/g,"\\n"),t="";if(b){let e=(0,c.iH)(r,"boat-images/main/".concat(b.name));await (0,c.KV)(e,b),t=await (0,c.Jt)(e)}let s=await Promise.all(x.map(async e=>{let t=(0,c.iH)(r,"boat-images/other/".concat(e.name));return await (0,c.KV)(t,e),(0,c.Jt)(t)})),o={...a,description:e,mainPhoto:t,otherPhotos:s},i=(0,d.iH)(n,"boats");await (0,d.VF)(i,o),alert("Boat added successfully!"),m({...a,name:"",price:"",year:""}),p(null),g([])}catch(e){console.error("Error adding boat:",e),alert("Error adding boat. Please try again.")}finally{f(!1)}};return(0,o.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 bg-white rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Add New Boat"}),(0,o.jsx)("div",{className:"mb-6 overflow-x-auto",children:(0,o.jsx)("nav",{className:"flex space-x-4 border-b border-gray-200",children:["basic","equipment","description","photos"].map(a=>(0,o.jsx)("button",{onClick:()=>t(a),className:"px-4 py-2 text-sm font-medium transition-colors duration-200 ".concat(e===a?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"),children:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())},a))})}),(0,o.jsxs)("form",{onSubmit:F,className:"space-y-6",children:["basic"===e&&(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Boat Name"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),(0,o.jsxs)("select",{name:"condition",value:a.condition,onChange:e=>m(t=>({...t,condition:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"Select condition"}),(0,o.jsx)("option",{value:"pre-owned",children:"Pre-owned"}),(0,o.jsx)("option",{value:"new",children:"New"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"taxStatus",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Status"}),(0,o.jsxs)("select",{name:"taxStatus",value:a.taxStatus,onChange:e=>m(t=>({...t,taxStatus:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"Select tax status"}),(0,o.jsx)("option",{value:"paid",children:"Paid"}),(0,o.jsx)("option",{value:"not-paid",children:"Not Paid"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"engines",className:"block text-sm font-medium text-gray-700 mb-1",children:"Engines"}),(0,o.jsx)("input",{type:"text",id:"engines",name:"engines",value:a.engines,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"propulsionType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Propulsion Type"}),(0,o.jsx)("input",{type:"text",id:"propulsionType",name:"propulsionType",value:a.propulsionType,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,o.jsx)("input",{type:"text",id:"location",name:"location",value:a.location,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (â‚¬)"}),(0,o.jsx)("input",{type:"number",id:"price",name:"price",value:a.price,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,o.jsx)("input",{type:"number",id:"year",name:"year",value:a.year,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"sizeFeet",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size (ft)"}),(0,o.jsx)("input",{type:"number",id:"sizeFeet",name:"sizeFeet",value:a.sizeFeet,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"sizeMeters",className:"block text-sm font-medium text-gray-700 mb-1",children:"Size (m)"}),(0,o.jsx)("input",{type:"number",id:"sizeMeters",name:"sizeMeters",value:a.sizeMeters,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"beamFeet",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beam (ft)"}),(0,o.jsx)("input",{type:"number",id:"beamFeet",name:"beamFeet",value:a.beamFeet,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"beamMeters",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beam (m)"}),(0,o.jsx)("input",{type:"number",id:"beamMeters",name:"beamMeters",value:a.beamMeters,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"fuelCapacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel Capacity (L)"}),(0,o.jsx)("input",{type:"number",id:"fuelCapacity",name:"fuelCapacity",value:a.fuelCapacity,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"inStock",className:"block text-sm font-medium text-gray-700 mb-1",children:"In Stock"}),(0,o.jsxs)("select",{name:"inStock",value:a.inStock,onChange:e=>m(t=>({...t,inStock:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"Select availability"}),(0,o.jsx)("option",{value:"yes",children:"Yes"}),(0,o.jsx)("option",{value:"no",children:"No"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"basicListing",className:"block text-sm font-medium text-gray-700 mb-1",children:"Basic Listing (can't be clicked into)"}),(0,o.jsxs)("select",{name:"basicListing",value:a.basicListing,onChange:e=>m(t=>({...t,basicListing:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"Select option"}),(0,o.jsx)("option",{value:"yes",children:"Yes"}),(0,o.jsx)("option",{value:"no",children:"No"})]})]})]}),"equipment"===e&&(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(a.equipment).map(e=>{let[t,a]=e;return(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:t,checked:a,onChange:()=>N(t),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,o.jsx)("label",{htmlFor:t,className:"ml-2 text-sm font-medium text-gray-700",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())})]},t)})}),"description"===e&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,o.jsx)("textarea",{id:"description",name:"description",value:a.description,onChange:y,rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"photos"===e&&(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"mainPhoto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Photo"}),(0,o.jsx)("input",{type:"file",id:"mainPhoto",onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])},accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"otherPhotos",className:"block text-sm font-medium text-gray-700 mb-1",children:"Other Photos"}),(0,o.jsx)("input",{type:"file",id:"otherPhotos",onChange:e=>{e.target.files&&g(Array.from(e.target.files))},multiple:!0,accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,o.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:h?"Adding Boat...":"Add Boat"})]})]})}(0,l.C6)().length||(s=(0,l.ZF)(u),r=(0,c.cF)(s),n=(0,d.N8)(s))}},function(e){e.O(0,[481,119,62,971,117,744],function(){return e(e.s=3416)}),_N_E=e.O()}]);